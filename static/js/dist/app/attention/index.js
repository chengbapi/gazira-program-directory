define("dist/app/attention/index",["$","../common/pagenation","../../lib/cmp/pagination/pagination","../../lib/cmp/widget","../../lib/util/base","../../lib/util/class","../../lib/util/event","../../lib/util/aspect","../../lib/util/attribute","../../lib/cmp/daparser","../../lib/cmp/auto-render","../../lib/util/ajax","../../lib/util/dom/action","../common/ajax","../common/_ajax","../../lib/util/json","../common/dialog/singleton","../../lib/cmp/dialog/confirm-box","../../lib/cmp/dialog/dialog","../../lib/cmp/overlay","../../lib/util/dom/position","../../lib/util/bom/browser","../../lib/util/dom/iframe-shim","../../lib/cmp/mask","../../lib/util/dom/sticky","../../lib/util/dom/scroll","../../lib/util/dom/wheel","../../lib/cmp/dialog/tpl/dialog","../../lib/cmp/dialog/tpl/button","../common/tpl/no-result","./tpl/userinfo","../../lib/util/date","./ajaxCommon"],function(a){var b=a("$"),c=a("../common/pagenation"),d=a("../../lib/util/dom/action"),e=a("../common/ajax"),f=a("../common/tpl/no-result"),g=a("./tpl/userinfo"),h=(a("../../lib/util/date"),a("./ajaxCommon"));attentionSet={},attentionSet.pageSize=30,attentionSet.pagenation=function(a){new c({parentNode:".pagination",showPN:!1,total:+a.total,size:attentionSet.pageSize,success:function(a){1!==+a&&attentionSet.search(a,!1)}}).render()},attentionSet.search=function(a,c){var d=b(".search-group .search-input").val(),f="";e({url:f,method:"GET"}).done(function(a){c&&attentionSet.pagenation(a),attentionSet.callBack(d,a)})},attentionSet.callBack=function(a,c){if(c.total<=0){b(".see-more").hide();var d=f.render({keyword:a});b(".search-rt").html(d)}else{b(".auto-loading").hide();var e=c.topics;b(".search-ht").html("相关信息");var d=g.render({datalist:e});b(".search-rt").html(d)}},attentionSet.bindEvent=function(){b(".search-group").on("keyup",".search-input",function(a){13==a.keyCode&&b('[data-action="searchBar"]').trigger("click")})},attentionSet.action=function(){d.listen({searchBar:function(){attentionSet.search(1,!0)},attention:function(a,c){var d=b(c).closest(".oneuser").data("idolUid");h.attention(d,c)},cancelAttention:function(a,c){var d=b(c).closest(".oneuser").data("idolUid");h.attention(d,c)}})},attentionSet.init=function(){attentionSet.action(),attentionSet.bindEvent()},b(function(){attentionSet.init()})}),define("dist/app/common/pagenation",["../../lib/cmp/pagination/pagination","$","../../lib/cmp/widget","../../lib/util/base","../../lib/util/class","../../lib/util/event","../../lib/util/aspect","../../lib/util/attribute","../../lib/cmp/daparser","../../lib/cmp/auto-render","../../lib/util/ajax"],function(a,b,c){var d=a("../../lib/cmp/pagination/pagination"),e=d.extend({attrs:{initRun:!0},view:function(){var a='<input type="button" class="btn" value="<" data-action="prev"/>';return a+=this.classicHTML(),a+='<input type="button" class="btn" value=">" data-action="next"/>',this.element.html(a),this.reflow(),this.get("initRun")&&this.get("success")&&this.get("success").call(this,this.get("current")),this.set("initRun",!0),this}});c.exports=e}),define("dist/lib/cmp/pagination/pagination",["$","../widget","../../util/base","../../util/class","../../util/event","../../util/aspect","../../util/attribute","../daparser","../auto-render","../../util/ajax"],function(a){var b=a("$"),c=a("../widget"),d=a("../../util/ajax"),e={tpl:function(a,b,c){var d='<a href="'+(c===!0?"#":a+b)+'" data-page="'+b+'" data-action="page">'+b+"</a>";return d}},f=c.extend({attrs:{url:"",type:"ajax",data:null,before:null,success:null,error:null,method:"get",pageName:"page",sizeName:"pagesize",totalName:"data.total",pageIndexOffset:0,size:12,current:{value:1,setter:function(a){if(a)return+a||0;var b=Math.ceil(this.get("total")/this.get("size"));return Math.min(Math.max(a,1),b)}},total:0,template:'<div class="widget-pagination"></div>'},setup:function(){f.superclass.setup.call(this),this._init=!0},events:{"click [data-action=prev]":function(a){"link"!==this.get("type")&&(b(a.target).hasClass("disabled")||this.prev(),a.preventDefault())},"click [data-action=page]":function(a){"link"!==this.get("type")&&(this.load(b(a.target).attr("data-page")),a.preventDefault())},"click [data-action=next]":function(a){"link"!==this.get("type")&&(b(a.target).hasClass("disabled")||this.next(),a.preventDefault())}},prev:function(){return this.set("current",Math.max(1,this.get("current")-1)),this},next:function(){var a=Math.ceil(this.get("total")/this.get("size"));return this.set("current",Math.min(a,this.get("current")+1)),this},load:function(a){return this.set("current",+a),this},classicHTML:function(){var a,c="post"===this.get("method").toLowerCase(),d=this.get("url"),f=(this.get("x")||2,this.get("y")||1,this.get("size")),g=Math.ceil(this.get("total")/f),h=this.get("current"),i=this.get("sizeName"),j=this.get("pageName"),k=[],l=["",""],m="<span>...</span>";if(c||(d+=-1===d.indexOf("?")?"?":"&",d+=b.param(this.get("data")||{}),-1===d.indexOf(i+"=")&&(d+=i+"="+f+"&"),-1===d.indexOf(j+"=")&&(d+=j+"=")),this.get("showPN")!==!1&&(l[0]='<a href="'+(c?"#":d+Math.max(1,h-1))+'" data-action="prev">上一页</a>',l[1]='<a href="'+(c?"#":d+Math.min(g,h+1))+'" data-action="next">下一页</a>'),5>=g)for(a=1;g>=a;a++)k.push(e.tpl(d,a,c));else if(3>=h){for(a=1;4>=a;a++)k.push(e.tpl(d,a,c));k.push(m,e.tpl(d,g,c))}else if(h>=g-2)for(k.push(e.tpl(d,1,c),m),a=g-2;g>=a;a++)k.push(e.tpl(d,a,c));else k.push(e.tpl(d,1,c),m,e.tpl(d,h-1,c),e.tpl(d,h,c),e.tpl(d,h+1,c),m,e.tpl(d,g,c));return l[0]+k.join("")+l[1]},view:function(a){var c=this.get("size"),d=this.get("current");return this.element.html(this.classicHTML()),this.reflow(),"ajax"===this.get("type")?a!==!1&&this.ajax():this.get("success")&&this.get("success").call(this,d,b.isArray(this.get("data"))?this.get("data").splice((d-1)*c,Math.min(this.get("data").length,d*c)):[]),this},reflow:function(){var a=this.get("current"),b=Math.ceil(this.get("total")/this.get("size"));return this.$("[data-action=prev]").toggleClass("disabled",1>=a),this.$("[data-action=next]").toggleClass("disabled",a>=b),this.$("[data-page]").removeClass("active"),this.$("[data-page="+a+"]").addClass("active"),this},ajax:function(){var a=this,c=d.single(this.cid),e={},f=["before","error","complete"],g={url:this.get("url"),success:function(b){for(var c=a.get("totalName").split("."),d=b,e=+a.get("total"),f=0,g=c.length;g>f;f++)d&&(d=d[c[f]]);a.checkTotal(d,e),a.get("success")&&a.get("success").call(a,a.get("current"),b)}},h=this.get("data");h=b.isFunction(h)?h.call(this):h,e[this.get("pageName")]=+this.get("current")+ +this.get("pageIndexOffset"),e[this.get("sizeName")]=this.get("size"),g.data="object"==typeof h?b.extend(e,h):h,g.type=this.get("method");for(var i=0,j=f.length;j>i;i++){var k=f[i];a.get(k)&&(g[k]=a.get(k).call(a))}return c.send(g)},checkTotal:function(a,b){var c=this.get("current"),d=this.get("size");if(a=+a||0,b!==a){var e=Math.ceil(a/d);this.set("total",a,{silent:!0}),c>e?this.set("current",e):this.view(!1)}},_onRenderCurrent:function(){this.view()},_onRenderTotal:function(){this._init!==!0?this.view():delete this._init}});return f}),define("dist/lib/cmp/widget",["../util/base","../util/class","../util/event","../util/aspect","../util/attribute","$","./daparser","./auto-render"],function(a,b,c){function d(){return"widget-"+w++}function e(a){return"[object String]"===v.call(a)}function f(a){return"[object Function]"===v.call(a)}function g(a){return x(document.documentElement,a)}function h(a){return a.charAt(0).toUpperCase()+a.substring(1)}function i(a){return f(a.events)&&(a.events=a.events()),a.events}function j(a,b){var c=a.match(y),d=c[1]+q+b.cid,e=c[2]||void 0;return e&&e.indexOf("{{")>-1&&(e=k(e,b)),{type:d,selector:e}}function k(a,b){return a.replace(z,function(a,c){for(var d,f=c.split("."),g=b;d=f.shift();)g=g===b.attrs?b.get(d):g[d];return e(g)?g:A})}function l(a){return null==a||void 0===a}var m=a("../util/base"),n=a("$"),o=a("./daparser"),p=a("./auto-render"),q=".delegate-events-",r="_onRender",s="data-widget-cid",t={},u=m.extend({propsInAttrs:["initElement","element","events"],element:null,events:null,attrs:{id:null,className:null,style:null,template:"<div></div>",model:null,parentNode:document.body},initialize:function(a){this.cid=d();var b=this._parseDataAttrsConfig(a);u.superclass.initialize.call(this,a?n.extend(b,a):b),this.parseElement(),this.initProps(),this.delegateEvents(),this.setup(),this._stamp(),this._isTemplate=!(a&&a.element)},_parseDataAttrsConfig:function(a){var b,c;return a&&(b=n(a.initElement?a.initElement:a.element)),b&&b[0]&&!p.isDataApiOff(b)&&(c=o.parseElement(b)),c},parseElement:function(){var a=this.element;if(a?this.element=n(a):this.get("template")&&this.parseElementFromTemplate(),!this.element||!this.element[0])throw new Error("element is invalid")},parseElementFromTemplate:function(){this.element=n(this.get("template"))},initProps:function(){},delegateEvents:function(a,b,c){if(0===arguments.length?(b=i(this),a=this.element):1===arguments.length?(b=a,a=this.element):2===arguments.length?(c=b,b=a,a=this.element):(a||(a=this.element),this._delegateElements||(this._delegateElements=[]),this._delegateElements.push(n(a))),e(b)&&f(c)){var d={};d[b]=c,b=d}for(var g in b)if(b.hasOwnProperty(g)){var h=j(g,this),k=h.type,l=h.selector;!function(b,c){var d=function(a){return f(b)?b.call(c,a):c[b](a)};l?n(a).on(k,l,d):n(a).on(k,d)}(b[g],this)}return this},undelegateEvents:function(a,b){if(b||(b=a,a=null),0===arguments.length){var c=q+this.cid;if(this.element&&this.element.off(c),this._delegateElements)for(var d in this._delegateElements)this._delegateElements.hasOwnProperty(d)&&this._delegateElements[d].off(c)}else{var e=j(b,this);a?n(a).off(e.type,e.selector):this.element&&this.element.off(e.type,e.selector)}return this},setup:function(){},render:function(){this.rendered||(this._renderAndBindAttrs(),this.rendered=!0);var a=this.get("parentNode");if(a&&!g(this.element[0])){var b=this.constructor.outerBoxClass;if(b){var c=this._outerBox=n("<div></div>").addClass(b);c.append(this.element).appendTo(a)}else this.element.appendTo(a)}return this},_renderAndBindAttrs:function(){var a=this,b=a.attrs;for(var c in b)if(b.hasOwnProperty(c)){var d=r+h(c);if(this[d]){var e=this.get(c);l(e)||this[d](e,void 0,c),function(b){a.on("change:"+c,function(c,d,e){a[b](c,d,e)})}(d)}}},_onRenderId:function(a){this.element.attr("id",a)},_onRenderClassName:function(a){this.element.addClass(a)},_onRenderStyle:function(a){this.element.css(a)},_stamp:function(){var a=this.cid;(this.initElement||this.element).attr(s,a),t[a]=this},$:function(a){return this.element.find(a)},destroy:function(){this.undelegateEvents(),delete t[this.cid],this.element&&this._isTemplate&&(this.element.off(),this._outerBox?this._outerBox.remove():this.element.remove()),this.element=null,u.superclass.destroy.call(this)}});n(window).unload(function(){for(var a in t)t[a].destroy()}),u.query=function(a){var b,c=n(a).eq(0);return c&&(b=c.attr(s)),t[b]},u.autoRender=p.autoRender,u.autoRenderAll=p.autoRenderAll,u.StaticsWhiteList=["autoRender"],c.exports=u;var v=Object.prototype.toString,w=0,x=n.contains||function(a,b){return!!(16&a.compareDocumentPosition(b))},y=/^(\S+)\s*(.*)$/,z=/{{([^}]+)}}/g,A="INVALID_SELECTOR"}),define("dist/lib/util/base",["./class","./event","./aspect","./attribute"],function(a,b,c){function d(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d="_onChange"+e(c);a[d]&&a.on("change:"+c,a[d])}}function e(a){return a.charAt(0).toUpperCase()+a.substring(1)}var f=a("./class"),g=a("./event"),h=a("./aspect"),i=a("./attribute"),j=f.create({Implements:[g,h,i],initialize:function(a){this.initAttrs(a),d(this,this.attrs)},destroy:function(){this.off();for(var a in this)this.hasOwnProperty(a)&&delete this[a];this.destroy=function(){}}});c.exports=j}),define("dist/lib/util/class",[],function(a,b,c){function d(a){return this instanceof d||!l(a)?void 0:g(a)}function e(){}function f(a){var b,c;for(b in a)c=a[b],d.Mutators.hasOwnProperty(b)?d.Mutators[b].call(this,c):this.prototype[b]=c}function g(a){return a.extend=d.extend,a.implement=f,a}function h(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&-1===m(c,d))continue;"prototype"!==d&&(a[d]=b[d])}}c.exports=d,d.extend=function(a){return a||(a={}),a.Extends=this,d.create(a)},d.create=function(a,b){function c(){a.apply(this,arguments),this.constructor===c&&this.initialize&&this.initialize.apply(this,arguments)}return l(a)||(b=a,a=null),b||(b={}),a||(a=b.Extends||d),b.Extends=a,a!==d&&h(c,a,a.StaticsWhiteList),f.call(c,b),g(c)};var i=Object.__proto__?function(a){return{__proto__:a}}:function(a){return e.prototype=a,new e};d.Mutators={Extends:function(a){var b=this.prototype,c=i(a.prototype);h(c,b),c.constructor=this,this.prototype=c,this.superclass=a.prototype},Implements:function(a){k(a)||(a=[a]);for(var b,c=this.prototype;b=a.shift();)h(c,b.prototype||b)},Statics:function(a){h(this,a)}};var j=Object.prototype.toString,k=Array.isArray||function(a){return"[object Array]"===j.call(a)},l=function(a){return"[object Function]"===j.call(a)},m=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}}),define("dist/lib/util/event",[],function(a,b,c){function d(){}function e(a,b,c,d){var e;if(a)for(var f=0,g=a.length;g>f;f+=2)e=a[f].apply(a[f+1]||c,b),e===!1&&d.status&&(d.status=!1)}var f=/\s+/;c.exports=d,d.prototype.on=function(a,b,c){var d,e,g;if(!b)return this;for(d=this.__events||(this.__events={}),a=a.split(f);e=a.shift();)g=d[e]||(d[e]=[]),g.push(b,c);return this},d.prototype.off=function(a,b,c){var d,e,h,i;if(!(d=this.__events))return this;if(!(a||b||c))return delete this.__events,this;for(a=a?a.split(f):g(d);e=a.shift();)if(h=d[e])if(b||c)for(i=h.length-2;i>=0;i-=2)b&&h[i]!==b||c&&h[i+1]!==c||h.splice(i,2);else delete d[e];return this},d.prototype.trigger=function(a){var b,c,d,g,h,i,j=[],k={status:!0};if(!(b=this.__events))return this;for(a=a.split(f),h=1,i=arguments.length;i>h;h++)j[h-1]=arguments[h];for(;c=a.shift();)(d=b.all)&&(d=d.slice()),(g=b[c])&&(g=g.slice()),e(g,j,this,k),e(d,[c].concat(j),this,k);return k.status},d.mixTo=function(a){a=a.prototype||a;var b=d.prototype;for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};var g=Object.keys;g||(g=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b})}),define("dist/lib/util/aspect",[],function(a,b,c){function d(a,b,c,d){for(var g,i,j=b.split(h);g=j.shift();)i=e(this,g),i.__isAspected||f.call(this,g),this.on(a+":"+g,c,d);return this}function e(a,b){var c=a[b];if(!c)throw new Error("Invalid method name: "+b);return c}function f(a){var b=this[a];this[a]=function(){var c=Array.prototype.slice.call(arguments),d=["before:"+a].concat(c);if(this.trigger.apply(this,d)!==!1){var e=b.apply(this,arguments),f=["after:"+a,e].concat(c);return this.trigger.apply(this,f),e}},this[a].__isAspected=!0}var g={before:function(a,b,c){return d.call(this,"before",a,b,c)},after:function(a,b,c){return d.call(this,"after",a,b,c)}};c.exports=g;var h=/\s+/}),define("dist/lib/util/attribute",[],function(a,b,c){function d(a){return"[object String]"===u.call(a)}function e(a){return"[object Function]"===u.call(a)}function f(a){return null!==a&&a===a.window}function g(a){if(!a||"[object Object]"!==u.call(a)||a.nodeType||f(a))return!1;try{if(a.constructor&&!v.call(a,"constructor")&&!v.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}var c;if(t)for(c in a)return v.call(a,c);for(c in a);return void 0===c||v.call(a,c)}function h(a){if(!a||"[object Object]"!==u.call(a)||a.nodeType||f(a)||!a.hasOwnProperty)return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function i(a,b){var c,d;for(c in b)if(b.hasOwnProperty(c)){if(d=b[c],w(d))d=d.slice();else if(g(d)){var e=a[c];g(e)||(e={}),d=i(e,d)}a[c]=d}return a}function j(a,b,c){for(var d=[],e=b.constructor.prototype;e;)e.hasOwnProperty("attrs")||(e.attrs={}),l(c,e.attrs,e),h(e.attrs)||d.unshift(e.attrs),e=e.constructor.superclass;for(var f=0,g=d.length;g>f;f++)i(a,p(d[f]))}function k(a,b){i(a,p(b,!0))}function l(a,b,c,d){for(var e=0,f=a.length;f>e;e++){var g=a[e];c.hasOwnProperty(g)&&(b[g]=d?b.get(g):c[g])}}function m(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d,f=b[c].value;e(f)&&(d=c.match(y))&&(a[d[1]](n(d[2]),f),delete b[c])}}function n(a){var b=a.match(z),c=b[1]?"change:":"";return c+=b[2].toLowerCase()+b[3]}function o(a,b,c){var d={silent:!0};a.__initializingAttrs=!0;for(var e in c)c.hasOwnProperty(e)&&b[e].setter&&a.set(e,c[e],d);delete a.__initializingAttrs}function p(a,b){var c={};for(var d in a){var e=a[d];c[d]=!b&&g(e)&&q(e,A)?e:{value:e}}return c}function q(a,b){for(var c=0,d=b.length;d>c;c++)if(a.hasOwnProperty(b[c]))return!0;return!1}function r(a){return null===a||(d(a)||w(a))&&0===a.length||h(a)}function s(a,b){if(a===b)return!0;if(r(a)&&r(b))return!0;var c=u.call(a);if(c!==u.call(b))return!1;switch(c){case"[object String]":return a===String(b);case"[object Number]":return a!==+a?b!==+b:0===a?1/a===1/b:a===+b;case"[object Date]":case"[object Boolean]":return+a===+b;case"[object RegExp]":return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.ignoreCase===b.ignoreCase;case"[object Array]":var d=a.toString(),e=b.toString();return-1===d.indexOf("[object")&&-1===e.indexOf("[object")&&d===e}if("object"!=typeof a||"object"!=typeof b)return!1;if(g(a)&&g(b)){if(!s(x(a),x(b)))return!1;for(var f in a)if(a[f]!==b[f])return!1;return!0}return!1}var t,u=Object.prototype.toString,v=Object.prototype.hasOwnProperty;!function(){function a(){this.x=1}var b=[];a.prototype={valueOf:1,y:1};for(var c in new a)b.push(c);t="x"!==b[0]}();var w=Array.isArray||function(a){return"[object Array]"===u.call(a)},x=Object.keys;x||(x=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b});var y=/^(on|before|after)([A-Z].*)$/,z=/^(Change)?([A-Z])(.*)/,A=["value","getter","setter","readOnly"],B={initAttrs:function(a){var b=this.attrs={},c=this.propsInAttrs||[];j(b,this,c),a&&k(b,a),o(this,b,a),m(this,b),l(c,this,b,!0)},get:function(a){var b=this.attrs[a]||{},c=b.value;return b.getter?b.getter.call(this,c,a):c},set:function(a,b,c){var e={};d(a)?e[a]=b:(e=a,c=b),c||(c={});var f=c.silent,h=c.override,j=this.attrs,k=this.__changedAttrs||(this.__changedAttrs={});for(a in e)if(e.hasOwnProperty(a)){var l=j[a]||(j[a]={});if(b=e[a],l.readOnly)throw new Error("This attribute is readOnly: "+a);l.setter&&(b=l.setter.call(this,b,a));var m=this.get(a);!h&&g(m)&&g(b)&&(b=i(i({},m),b)),j[a].value=b,this.__initializingAttrs||s(m,b)||(f?k[a]=[b,m]:this.trigger("change:"+a,b,m,a))}return this},change:function(){var a=this.__changedAttrs;if(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];this.trigger("change:"+b,c[0],c[1],b)}delete this.__changedAttrs}return this},_isPlainObject:g};c.exports=B}),define("dist/lib/cmp/daparser",["$"],function(a,b){function c(a){return a.toLowerCase().replace(g,function(a,b){return(b+"").toUpperCase()})}function d(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];if("string"!=typeof c)continue;h.test(c)?(c=c.replace(/'/g,'"'),a[b]=d(i(c))):a[b]=e(c)}return a}function e(a){if("false"===a.toLowerCase())a=!1;else if("true"===a.toLowerCase())a=!0;else if(/\d/.test(a)&&/[^a-z]/i.test(a)){var b=parseFloat(a);b+""===a&&(a=b)}return a}var f=a("$");b.parseElement=function(a,b){a=f(a)[0];var e={};if(a.dataset)e=f.extend({},a.dataset);else for(var g=a.attributes,h=0,i=g.length;i>h;h++){var j=g[h],k=j.name;0===k.indexOf("data-")&&(k=c(k.substring(5)),e[k]=j.value)}return b===!0?e:d(e)};var g=/-([a-z])/g,h=/^\s*[\[{].*[\]}]\s*$/,i=this.JSON?JSON.parse:f.parseJSON}),define("dist/lib/cmp/auto-render",["$"],function(a,b){var c=a("$"),d="data-widget-auto-rendered";b.autoRender=function(a){return new this(a).render()},b.autoRenderAll=function(a,e){"function"==typeof a&&(e=a,a=null),a=c(a||document.body);var f=[],g=[];a.find("[data-widget]").each(function(a,c){b.isDataApiOff(c)||(f.push(c.getAttribute("data-widget").toLowerCase()),g.push(c))}),f.length&&seajs.use(f,function(){for(var a=0;a<arguments.length;a++){var b=arguments[a],f=c(g[a]);if(!f.attr(d)){var h={initElement:f,renderType:"auto"},i=f.attr("data-widget-role");h[i?i:"element"]=f,b.autoRender&&b.autoRender(h),f.attr(d,"true")}}e&&e()})};var e="off"===c(document.body).attr("data-api");b.isDataApiOff=function(a){var b=c(a).attr("data-api");return"off"===b||"on"!==b&&e}}),define("dist/lib/util/ajax",["$"],function(a,b,c){var d=a("$"),e={},f={},g={loginPage:"/",noPermissionAction:function(){location.href=g.loginPage},errorAction:function(){}},h={success:function(a){return a&&200===+a.code},permission:function(a){return a&&401===+a.code}},i=function(a,b,c){var e;return e=b&&b.rule&&d.isFunction(b.rule[c])?b.rule[c]:h[c],e(a)===!0};d(document).keydown(function(a){return 27===a.keyCode?!1:void 0}),window.ActiveXObject&&d.ajaxSetup({cache:!1});var j={setSuccessRule:function(a){h.success=function(b){return a(b)},j.setSuccessRule=null},setPermissionRule:function(a){h.permission=function(b){return a(b)},j.setPermissionRule=null},setNoPermissionAction:function(a){g.noPermissionAction=a,j.setNoPermissionAction=null},setErrorAction:function(a){g.errorAction=a,j.setErrorAction=null},base:function(a){var b=d.extend({},a||{});return!b.before||b.before&&b.before()!==!1?(b.dataType="json",b.type=a.type||"GET",b.success=function(c){i(c,b,"success")?a.success&&a.success(c):i(c,b,"permission")?d.isFunction(a.permission)?a.permission(c):g.noPermissionAction():d.isFunction(a.error)?a.error(c):g.errorAction(c)},b.error=function(b,c){"abort"!==c&&(d.isFunction(a.error)?a.error(b,c):g.errorAction(b,c))},b.complete=function(b,c){d.isFunction(a.complete)&&a.complete(b,c)},d.ajax(b)):void 0},single:function(a){e[a]||(e[a]={});var b={send:function(b){var c=e[a].url&&b.url===e[a].url;if(c)if(typeof b.data==typeof e[a].data&&"object"==typeof b.data){for(var f in b.data)if(b.data[f]!==e[a].data[f]){c=!1;break}}else c=b.data===e[a].data;if(c)return!1;e[a].xhr&&e[a].xhr.abort();var g=b.complete;b.complete=function(b,c){e[a]={},d.isFunction(g)&&g(b,c)},e[a]={xhr:j.base(b),url:b.url,data:b.data}},abort:function(){e[a]&&e[a].xhr&&4!==e[a].xhr.readyState&&(e[a].xhr.abort(),e[a].xhr=null)}};return b},pool:function(a,b,c){if(!f[a]){var e=0;f[a]={};var g=f[a];b=Math.max(1,parseInt(b,10)||1),c=Math.max(1,parseInt(c,10)||1);for(var h=1;c>=h;h++)g[h]=[];var i={},k=function(){if(b>e)for(var a=1;c>=a;a++)if(g[a].length>0){var f=g[a].shift();if(f){var h=+new Date+"_"+Math.random(),l=f.complete;e++,f.complete=function(a){return function(b,c){e--,"success"!==c&&b&&b.abort(),d.isFunction(l)&&l(b,c),i[a]=null,delete i[a],k()}}(h),i[h]=j.base(f);break}}},l={add:function(a,b){b&&g[b]?g[b].push(a):g[c].push(a),k()},abort:function(){if(g){for(var a=1;c>=a;a++)g[a].length=0;for(var b in i)i[b].abort()}}};return l}}};c.exports=j}),define("dist/lib/util/dom/action",["$"],function(a){var b=a("$"),c={dom:[],eventType:[],action:[]},d="data-action",e={setActionKey:function(a){d=a,e.setActionKey=null},listen:function(a,e,f){a=a||{},e=b(e?e:document),f=f||"click";var g=b.inArray(e[0],c.dom);if(-1!==g&&c.eventType[g]!==f&&(g=-1),-1===g)c.dom.push(e[0]),c.eventType.push(f),c.action.push(a),g=c.action.length-1,e[f](function(a){var e=b(a.target),f=e.attr(d),h=e;f||(h=e.closest("["+d+"]"),f=h.attr(d));var i=!0,j=c.action[g],k=j[f];if(k)if(b.isFunction(k.not)&&(k.node&&k.node[0]!==h[0]&&k.not.call(k.scope||e,a,k.node,f),k.node=h,k.using=!0),b.isFunction(k))i=k.call(e,a,h,f);else if(b.isFunction(k.is)||b.isFunction(k.action)){var l=k.is||k.action;i=l.call(k.scope||e,a,h,f)}for(var m=0,n=c.action.length;n>m;m++){var o=c.action[m];for(var p in o)p!==f&&o[p]&&o[p].not&&b.isFunction(o[p].not)&&o[p].using&&(o[p].using=!!o[p].not.call(o[p].scope||e,a,o[p].node,f))}if(-1===i)a.stopPropagation();else{if(i===!0)return!0;if(i===!1)return!1;a.preventDefault()}});else{var h=c.action[g];for(var i in a)h[i]=a[i]}return e}};return e}),define("dist/app/common/ajax",["./_ajax","../../lib/util/event","$","../../lib/util/json","./dialog/singleton","../../lib/cmp/dialog/confirm-box","../../lib/cmp/dialog/dialog","../../lib/cmp/overlay","../../lib/util/dom/position","../../lib/util/bom/browser","../../lib/util/dom/iframe-shim","../../lib/cmp/widget","../../lib/util/base","../../lib/util/class","../../lib/util/aspect","../../lib/util/attribute","../../lib/cmp/daparser","../../lib/cmp/auto-render","../../lib/cmp/mask","../../lib/util/dom/sticky","../../lib/util/dom/scroll","../../lib/util/dom/wheel","../../lib/cmp/dialog/tpl/dialog","../../lib/cmp/dialog/tpl/button"],function(a,b,c){function d(a,b){var c=h.extend({},i);if(a instanceof Array){var d=f.stringify(a);c=h.extend(c,{method:"POST",url:"/adapter/m",data:d});var g=h.map(a,function(a,b){return b=h.extend(b,i),e(b,!0)}),j=e(h.extend(c,{success:function(a,b,c){return this.trigger("done",a,b,c),this}}));return j.on("done",function(a){h.each(g,function(b,c){c.success(a[b])})}),g}c=h.extend(c,a),a.method&&"GET"===a.method.toUpperCase()?c.method="GET":(c.method="POST","DELETE"===a.method.toUpperCase()&&(a.data=a.data||{},a.data.method="delete"),c.data=f.stringify(a.data),c.contentType="application/json; charset=UTF-8");var k=a.url;return h.isFunction(k)&&(k=k()),c.url="/adapter/s"+k,e(c,b)}var e=a("./_ajax"),f=a("../../lib/util/json"),g=a("./dialog/singleton"),h=a("$"),i={success:function(a,b,c){switch(a.code){case 401:this.trigger("not-allowed",a,b,c);break;case 200:this.trigger("done",a.data,b,c);break;default:this.trigger("fail",a,b,c)}return this},dataType:"json",defaults:{"not-allowed":function(){window.location="/login?ret="+window.location},timeout:function(){var a=this;setTimeout(function(){a.resend()},5e3)},"no-found":function(){g.show({title:"404",content:"请求资源不存在",buttons:[{text:"确定",action:"close",className:"btn"}],className:"commonDialog"})},fail:function(a){g.show({title:"请求异常",content:a&&a.data&&a.data.msg||"请求异常",buttons:[{text:"确定",action:"close",className:"btn"}],className:"commonDialog"})},"server-error":function(){g.show({title:"服务器内部错误",content:"服务器内部错误",buttons:[{text:"确定",action:"close",className:"btn"}],className:"commonDialog"})}}};c.exports=d}),define("dist/app/common/_ajax",["../../lib/util/event","$"],function(a,b,c){function d(a,b){function c(){var b=d.ajax||{};return b.abort&&b.abort(),d.ajax=f.ajax(a),d.abort=function(){return d.ajax.abort()},d}var d=new e;return f.extend(d,{done:function(a){return this.on("done",a),this},fail:function(a){return this.on("fail",a),this},then:function(a){return this.on("always",a),this}}),a.timeout=a.timeout||6e4,a.success=a.success||function(a,b,c){return this.trigger("done",a,b,c),this},a.success=f.proxy(a.success,d),a.error=a.error||function(a,b,c){if(0===a.readyState&&("timeout"===b?this.trigger("timeout",a,b,c):this.trigger("disconnect",a,b,c)),4===a.readyState){var d=a.status;switch(d){case 401:this.trigger("not-allowed",a,b,c);break;case 403:this.trigger("no-permission",a,b,c);break;case 404:this.trigger("not-found",a,b,c);break;case 500:this.trigger("server-error",a,b,c)}}return this.trigger("error",a,b,c),this},a.error=f.proxy(a.error,d),a.complete=a.complete||function(a,b){return this.trigger("always",a,b),this},a.complete=f.proxy(a.complete,d),a.defaults&&f.each(a.defaults,function(a,b){d.on(a,b,d)}),b?f.extend(d,{success:a.success,resend:function(){},abort:function(){}}):(d.resend=c,d=c())}var e=a("../../lib/util/event"),f=a("$");c.exports=d}),define("dist/lib/util/json",[],function(require,exports,module){"object"!=typeof JSON&&(JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","        ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),module.exports=window.JSON}),define("dist/app/common/dialog/singleton",["$","../../../lib/cmp/dialog/confirm-box","../../../lib/cmp/dialog/dialog","../../../lib/cmp/overlay","../../../lib/util/dom/position","../../../lib/util/bom/browser","../../../lib/util/dom/iframe-shim","../../../lib/cmp/widget","../../../lib/util/base","../../../lib/util/class","../../../lib/util/event","../../../lib/util/aspect","../../../lib/util/attribute","../../../lib/cmp/daparser","../../../lib/cmp/auto-render","../../../lib/cmp/mask","../../../lib/util/dom/sticky","../../../lib/util/dom/scroll","../../../lib/util/dom/wheel","../../../lib/cmp/dialog/tpl/dialog","../../../lib/cmp/dialog/tpl/button"],function(a,b,c){var d,e=(a("$"),a("../../../lib/cmp/dialog/confirm-box")),f=e.extend({show:function(a){return this.get("visible")&&this.hide(),f.superclass.show.call(this,a),this}});f.show=function(a){return d||(d=new f(a)),d.show(a)},c.exports=f}),define("dist/lib/cmp/dialog/confirm-box",["$","./dialog","../overlay","../../util/dom/position","../../util/bom/browser","../../util/dom/iframe-shim","../widget","../../util/base","../../util/class","../../util/event","../../util/aspect","../../util/attribute","../daparser","../auto-render","../mask","../../util/dom/sticky","../../util/dom/scroll","../../util/dom/wheel","./tpl/dialog","./tpl/button"],function(a,b,c){var d=a("$"),e=a("./dialog"),f=a("./tpl/button"),g=0,h={title:"",content:"",width:375,height:275,buttons:[{text:"关闭",className:"btn",action:"close"}]},i=e.extend({attrs:{title:h.title,content:h.content,width:h.width,height:h.height,hasMask:{hideOnClick:!1},buttons:[]},setup:function(){i.superclass.setup.call(this);
for(var a=this.get("buttons"),b=[],c=0,d=a.length;d>c;c++){var e=a[c],h="string"==typeof e.action?e.action:"click_"+ ++g;b.push(f.render({className:e.className,action:h,text:e.text})),"close"!==h&&"confirm"!==h&&this.delegateEvents('click [data-action="'+h+'"]',function(a){return function(b){b.preventDefault(),this.trigger(a)}}(h))}this.$("[data-role=buttons]").eq(0).html(b.join(""))},events:{"click [data-action=close]":function(a){a.preventDefault(),this.hide()},"click [data-action=confirm]":function(a){a.preventDefault(),this.trigger("confirm")}},_onChangeContent:function(a){this.$("[data-role=content]").html(a)},_onChangeTitle:function(a){this.$("[data-role=title]").html(a)}});i.alert=function(a){return a=a||{},a=d.extend(!0,{},h,a),1!==a.buttons.length&&(a.buttons=[a.buttons[0]]),new i(a).show().after("hide",function(){this.destroy()})},i.confirm=function(a){return a=a||{},a=d.extend(!0,{buttons:[{text:"确认",className:"btn",action:"confirm"},{text:"取消",className:"btn",action:"close"}]},h,a),a.buttons=a.buttons.slice(0,2),new i(a).show().after("hide",function(){this.destroy()})},i.show=function(a){return a=a||{},a=d.extend({},h,a),new i(a).show().after("hide",function(){this.destroy()})},c.exports=i}),define("dist/lib/cmp/dialog/dialog",["$","../overlay","../../util/dom/position","../../util/bom/browser","../../util/dom/iframe-shim","../widget","../../util/base","../../util/class","../../util/event","../../util/aspect","../../util/attribute","../daparser","../auto-render","../mask","../../util/dom/sticky","../../util/dom/scroll","../../util/dom/wheel","./tpl/dialog"],function(a,b,c){function d(a){null==a.attr("tabindex")&&a.attr("tabindex","-1"),a.css("outline","none").attr("hidefocus","true")}function e(a){var b,c=a[0].contentWindow.document;return c.body.scrollHeight&&c.documentElement.scrollHeight?b=Math.min(c.body.scrollHeight,c.documentElement.scrollHeight):c.documentElement.scrollHeight?b=c.documentElement.scrollHeight:c.body.scrollHeight&&(b=c.body.scrollHeight),b}var f=a("$"),g=a("../overlay"),h=a("../mask"),i=a("../../util/event"),j=a("../../util/dom/sticky"),k=a("../../util/dom/scroll"),l=a("./tpl/dialog"),m=300,n=999,o=g.extend({attrs:{template:l.render(),title:"对话框",content:{value:null,setter:function(a){return this._type=/^(https?:\/\/|\/|\.\/|\.\.\/)/.test(a)?"iframe":"",a}},hasMask:{value:!0,hideOnClick:!1},width:500,height:null,zIndex:n,fixed:!0,autoFit:!0,effect:"none",align:{selfXY:["50%","50%"],baseXY:["50%","50%"]}},events:{"click [data-action=close]":function(){return this.hide(),!1}},parseElement:function(){o.superclass.parseElement.call(this),this.contentElement=this.$('[data-role="content"]'),this.contentElement.css({background:"#fff",height:"100%",zoom:1})},setup:function(){o.superclass.setup.call(this),this._setupMask(),this._setupKeyEvents(),this._setupFocus(),d(this.element),this.get("fixed")!==!1&&j.fix(this.element),k.prevent(this.element)},_onRenderVisible:function(a){var b=this.get("effect");a?f.isFunction(b)?b.call(this,this.element):this.element.show():this.element.hide()},show:function(a){if(o.superclass.show.call(this),"iframe"===this._type?(this.get("height")||this.element.height(m),this._showIframe()):this.get("height")&&this.$(".main").height(this.get("height")-this.$(".header").outerHeight()-this.$(".footer").outerHeight()),a)for(var b in a)this.set(b,a[b]);return this},hide:function(){return"iframe"===this._type&&this.iframe&&(this.iframe.attr({src:"about:blank"}),this.iframe.remove(),this.iframe=null,this._errCount=0),o.superclass.hide.call(this),clearInterval(this._interval),delete this._interval,this},destroy:function(){return this.element.remove(),clearInterval(this._interval),o.superclass.destroy.call(this)},_onRenderHeader:function(a){this.$(".header")[a?"show":"hide"]()},_onRenderFooter:function(a){this.$(".footer")[a?"show":"hide"]()},_onRenderTitle:function(a){this.$("[data-role=title]").eq(0).html(a)},_onRenderClosable:function(a){this.$("[data-role=close]").eq(0)[a===!1?"hide":"show"]()},_onRenderContent:function(a){if("iframe"!==this._type){var b;try{b=f(a)}catch(c){b=[]}b[0]?this.contentElement.empty().append(b):this.contentElement.empty().html(a)}},_setupMask:function(){var a=this,b=function(){a.hide()};this.before("show",function(){this.set("zIndex",n),n+=2;var a=parseInt(this.get("zIndex"),10),c=this.get("hasMask");c&&(h.set("zIndex",a-1).show(),c.hideOnClick&&h.element.one("click",b))}),this.after("hide",function(){var a=this.get("hasMask");a&&(h.hide(),a.hideOnClick&&h.element.off("click",b))})},_setupFocus:function(){this.after("show",function(){this.element.focus()})},_setupKeyEvents:function(){this.delegateEvents(f(document),"keyup",function(a){27===a.keyCode&&this.get("visible")&&this.hide()})},_showIframe:function(){var a=this;this.iframe||this._createIframe(),this.iframe.attr({src:this._fixUrl(),name:"dialog-iframe"+(new Date).getTime()}),this.iframe.one("load",function(){a.get("visible")&&(a.get("autoFit")&&(clearInterval(a._interval),a._interval=setInterval(function(){a._syncHeight()},300)),a._syncHeight(),a.trigger("complete:show"))})},_fixUrl:function(){var a=this.get("content").match(/([^?#]*)(\?[^#]*)?(#.*)?/);return a.shift(),a[1]=(a[1]&&"?"!==a[1]?a[1]+"&":"?")+"t="+(new Date).getTime(),a.join("")},_createIframe:function(){var a=this;this.contentElement.empty(),this.iframe=f("<iframe>",{src:"about:blank",scrolling:"no",frameborder:"no",allowTransparency:"true",css:{border:"none",width:"100%",display:"block",height:"100%",overflow:"hidden"}}).appendTo(this.contentElement),this._errCount=0,i.mixTo(this.iframe[0]),this.iframe[0].on("close",function(){a.hide()})},_syncHeight:function(){var a;if(this.get("height"))clearInterval(this._interval),delete this._interval;else{try{a=e(this.iframe)+"px"}catch(b){this._errCount=(this._errCount||0)+1,this._errCount>=6&&(a=m,clearInterval(this._interval),delete this._interval)}this.element.css("height",a),this._setPosition(),this.element[0].className=this.element[0].className}}});c.exports=o}),define("dist/lib/cmp/overlay",["$","../util/dom/position","../util/bom/browser","../util/dom/iframe-shim","./widget","../util/base","../util/class","../util/event","../util/aspect","../util/attribute","./daparser","./auto-render"],function(a,b,c){function d(a){return g.contains(document.documentElement,a)}function e(a){g(k.blurOverlays).each(function(b,c){if(c&&c.get("visible")){for(var d=0;d<c._relativeElements.length;d++){var e=g(c._relativeElements[d])[0];if(e===a.target||g.contains(e,a.target))return}c.hide()}})}function f(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return b.splice(c,1),b}var g=a("$"),h=a("../util/dom/position"),i=a("../util/dom/iframe-shim"),j=a("./widget"),k=j.extend({attrs:{width:null,height:null,zIndex:99,visible:!1,repositionOnResize:!0,align:{selfXY:[0,0],baseElement:h.VIEWPORT,baseXY:[0,0]},parentNode:document.body},show:function(){return this.rendered||this.render(),this.set("visible",!0),this},hide:function(){return this.set("visible",!1),this},setup:function(){var a=this;this._setupShim(),this.get("repositionOnResize")&&this._setupResize(),this.after("show",function(){a._setPosition()})},destroy:function(){return f(this,k.allOverlays),f(this,k.blurOverlays),k.superclass.destroy.call(this)},_setPosition:function(a){if(d(this.element[0])&&(a||(a=this.get("align")),a)){var b="none"===this.element.css("display");return b&&this.element.css({visibility:"hidden",display:"block"}),h.pin({element:this.element,x:a.selfXY[0],y:a.selfXY[1]},{element:a.baseElement,x:a.baseXY[0],y:a.baseXY[1]}),b&&this.element.css({visibility:"",display:"none"}),this}},_setupShim:function(){var a=new i(this.element);this.after("hide _setPosition",a.sync,a);var b=["width","height"];for(var c in b)b.hasOwnProperty(c)&&this.on("change:"+c,a.sync,a);this.before("destroy",a.destroy,a)},_setupResize:function(){k.allOverlays.push(this)},_blurHide:function(a){a=g.makeArray(a),a.push(this.element),this._relativeElements=a,k.blurOverlays.push(this)},_onRenderWidth:function(a){this.element.css("width",a)},_onRenderHeight:function(a){this.element.css("height",a)},_onRenderZIndex:function(a){this.element.css("zIndex",a)},_onRenderAlign:function(a){this._setPosition(a)},_onRenderVisible:function(a){this.element[a?"show":"hide"]()}});k.blurOverlays=[],g(document).on("mousedown",function(a){e(a)});var l,m=g(window).width(),n=g(window).height();k.allOverlays=[],g(window).resize(function(){var a=g(window).width(),b=g(window).height();(m!==a||n!==b)&&(l&&clearTimeout(l),l=setTimeout(function(){g(k.allOverlays).each(function(a,b){b&&b.get("visible")&&b._setPosition()})},80)),m=a,n=b}),c.exports=k}),define("dist/lib/util/dom/position",["$","../bom/browser"],function(a,b){function c(a){a=h(a)||{},a.nodeType&&(a={element:a});var b=h(a.element)||j;if(1!==b.nodeType)throw new Error("posObject.element is invalid.");var c={element:b,x:a.x||0,y:a.y||0},d=b===j||"VIEWPORT"===b._id;return c.offset=function(){return m?{left:0,top:0}:d?{left:k(document).scrollLeft(),top:k(document).scrollTop()}:k(b).offset()},c.size=function(){var a=k(d?window:b);return{width:a.outerWidth(),height:a.outerHeight()}},c}function d(a){a.x=e(a.x,a,"width"),a.y=e(a.y,a,"height")}function e(a,b,c){if(a+="",a=a.replace(/px/gi,""),/\D/.test(a)&&(a=a.replace(/(?:top|left)/gi,"0%").replace(/center/gi,"50%").replace(/(?:bottom|right)/gi,"100%")),-1!==a.indexOf("%")&&(a=a.replace(/(\d+(?:\.\d+)?)%/gi,function(a,d){return b.size()[c]*(d/100)})),/[+\-*\/]/.test(a))try{a=new Function("return "+a)()}catch(d){throw new Error("Invalid position value: "+a)}return g(a)}function f(a){var b=a.offsetParent();b[0]===document.documentElement&&(b=k(document.body)),n&&b.css("zoom",1);var c=b[0]===document.body?{left:0,top:0}:b.offset();return c.top+=g(b.css("border-top-width")),c.left+=g(b.css("border-left-width")),c}function g(a){return parseFloat(a,10)||0}function h(a){return k(a)[0]}var i=b,j={_id:"VIEWPORT",nodeType:1},k=a("$"),l=a("../bom/browser"),m=!1,n=l.ie6;i.pin=function(a,b){a=c(a),b=c(b);var e=k(a.element);"fixed"!==e.css("position")||n?(e.css("position","absolute"),m=!1):m=!0,d(a),d(b);var g=f(e),h=b.offset(),i=h.top+b.y-a.y-g.top,j=h.left+b.x-a.x-g.left;e.css({left:j,top:i})},i.center=function(a,b){i.pin({element:a,x:"50%",y:"50%"},{element:b,x:"50%",y:"50%"})},i.VIEWPORT=j}),define("dist/lib/util/bom/browser",[],function(a,b,c){c.exports=function(){var a=!!window.ActiveXObject,b=!!window.devicePixelRatio;return{ie:a,ie6:a&&!window.XMLHttpRequest,ie7:a&&"7."===navigator.appVersion.match(/7./i),ie8:!!window.XDomainRequest,ie9:a&&1,firefox:!!document.getBoxObjectFor||"mozInnerScreenX"in window,opera:b&&!!window.opera,safari:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,chrome:b&&!!window.chrome}}()}),define("dist/lib/util/dom/iframe-shim",["$","./position","../bom/browser"],function(a,b,c){function d(a){this.target=f(a).eq(0)}function e(a){var b={display:"none",border:"none",opacity:0,position:"absolute"},c=a.css("zIndex");return c&&c>0&&(b.zIndex=c-1),f("<iframe>",{src:"about:blank",frameborder:0,css:b}).insertBefore(a)}var f=a("$"),g=a("./position"),h=-1!==(window.navigator.userAgent||"").toLowerCase().indexOf("msie 6");if(d.prototype.sync=function(){var a=this.target,b=this.iframe;if(!a.length)return this;var c=a.outerHeight(),d=a.outerWidth();return c&&d&&!a.is(":hidden")?(b||(b=this.iframe=e(a)),b.css({height:c,width:d}),g.pin(b[0],a[0]),b.show()):b&&b.hide(),this},d.prototype.destroy=function(){this.iframe&&(this.iframe.remove(),delete this.iframe),delete this.target},h)c.exports=d;else{var i=function(){};i.prototype.sync=function(){return this},i.prototype.destroy=i,c.exports=i}}),define("dist/lib/cmp/mask",["$","./overlay","../util/dom/position","../util/bom/browser","../util/dom/iframe-shim","./widget","../util/base","../util/class","../util/event","../util/aspect","../util/attribute","./daparser","./auto-render"],function(a,b,c){var d=a("$"),e=a("./overlay"),f=(window.navigator.userAgent||"").toLowerCase(),g=-1!==f.indexOf("msie 6"),h=d(document.body),i=d(document),j=[],k=e.extend({attrs:{width:g?i.outerWidth(!0):"100%",height:g?i.outerHeight(!0):"100%",className:"dialog-mask",opacity:.5,backgroundColor:"#000",style:{position:g?"absolute":"fixed",top:0,left:0},align:{baseElement:g?h:void 0}},show:function(){return g&&(this.set("width",i.outerWidth(!0)),this.set("height",i.outerHeight(!0))),k.superclass.show.call(this)},setup:function(){this._setupShim(),this.before("show",function(){j.push(this.get("zIndex"))})},hide:function(){return j.pop(),j.length>0?(this.set("zIndex",j[j.length-1]),this):k.superclass.hide.call(this)},_onRenderBackgroundColor:function(a){this.element.css("backgroundColor",a)},_onRenderOpacity:function(a){this.element.css("opacity",a)}});c.exports=new k}),define("dist/lib/util/dom/sticky",["$"],function(a,b,c){function d(a,b,c){return new g({element:a,marginTop:b||0,callback:c}).render()}function e(){return!n}function f(){if(m)return!1;var a=i[0].body;if(i[0].createElement&&a&&a.appendChild&&a.removeChild){var b,c=i[0].createElement("div"),d=function(a){return window.getComputedStyle?window.getComputedStyle(c).getPropertyValue(a):c.currentStyle.getAttribute(a)};a.appendChild(c);for(var e=0;e<j.length&&(c.style.cssText="position:"+j[e]+"sticky;visibility:hidden;",!(b=-1!==d("position").indexOf("sticky")));e++);return c.parentNode.removeChild(c),b}}function g(a){this.options=a||{},this.elem=h(this.options.element),this.callback=a.callback||function(){},this.marginTop=a.marginTop||0,this._stickyId=k++}var h=a("$"),i=h(document),j=["-webkit-","-ms-","-o-","-moz-",""],k=0,l=(window.navigator.userAgent||"").toLowerCase(),m=-1!==l.indexOf("msie"),n=-1!==l.indexOf("msie 6"),o=f(),p=e();d.stick=d,d.fix=function(a){return new g({element:a,marginTop:Number.MAX_VALUE}).render()},d.isPositionStickySupported=o,d.isPositionFixedSupported=p,g.prototype.render=function(){var a,b=this;if(this.elem.length&&!this.elem.data("bind-sticked")){this._originTop=this.elem.offset().top,this.marginTop===Number.MAX_VALUE&&(a=!0,this.marginTop=this._originTop),this._originStyles={position:null,top:null,left:null};for(var c in this._originStyles)this._originStyles.hasOwnProperty(c)&&(this._originStyles[c]=this.elem.css(c));var e;if(d.isPositionStickySupported&&!a){e=this._supportSticky;for(var f="",g=0;g<j.length;g++)f+="position:"+j[g]+"sticky;";this.elem[0].style.cssText+=f+"top: "+this.marginTop+"px;"}else d.isPositionFixedSupported?e=this._supportFixed:(e=this._supportAbsolute,h('<style type="text/css"> * html{ background:url(null) no-repeat fixed; } </style>').appendTo("head"));return e.call(this),h(window).on("scroll."+this._stickyId,function(){b.elem.is(":visible")&&e.call(b)}),this.elem.data("bind-sticked",!0),this}},g.prototype._supportFixed=function(){var a=this._originTop-i.scrollTop();!this.elem.data("sticked")&&a<=this.marginTop?(this._addPlaceholder(),this.elem.css({position:"fixed",top:this.marginTop,left:this.elem.offset().left}),this.elem.data("sticked",!0),this.callback.call(this,!0)):this.elem.data("sticked")&&a>this.marginTop&&this._restore()},g.prototype._supportAbsolute=function(){var a=this._originTop-i.scrollTop();a<=this.marginTop?(this.elem.data("sticked")||(this._addPlaceholder(),this.elem.data("sticked",!0),this.callback.call(this,!0)),this.elem.css({position:"absolute",top:this.marginTop+i.scrollTop()})):this.elem.data("sticked")&&a>this.marginTop&&this._restore()},g.prototype._supportSticky=function(){var a=this._originTop-i.scrollTop();!this.elem.data("sticked")&&a<=this.marginTop?(this.elem.data("sticked",!0),this.callback.call(this,!0)):this.elem.data("sticked")&&a>this.marginTop&&this.callback.call(this,!1)},g.prototype._restore=function(){this._removePlaceholder(),this.elem.css(this._originStyles),this.elem.data("sticked",!1),this.callback.call(this,!1)},g.prototype._addPlaceholder=function(){var a=!1,b=this.elem.css("position");("static"===b||"relative"===b)&&(a=!0),"block"!==this.elem.css("display")&&(a=!1),a&&(this._placeholder=h('<div style="visibility:hidden;margin:0;padding:0;"></div>'),this._placeholder.width(this.elem.outerWidth(!0)).height(this.elem.outerHeight(!0)).css("float",this.elem.css("float")).insertAfter(this.elem))},g.prototype._removePlaceholder=function(){this._placeholder&&this._placeholder.remove()},g.prototype.destroy=function(){this._restore(),this.elem.data("bind-sticked",!1),h(window).off("scroll."+this._stickyId)},c.exports=d}),define("dist/lib/util/dom/scroll",["$","./wheel","../bom/browser"],function(a,b,c){var d=a("$"),e=a("./wheel"),f={detect:function(a){var b,c,e;return a===window||a===document?(c=d(document).scrollTop(),a=document.documentElement):c=a.scrollTop,e=Math.ceil(a.clientHeight),0===c?b=a.scrollHeight>Math.ceil(e)?"top":"noscroll":c+Math.ceil(e)>=a.scrollHeight&&(b="bottom"),b}},g={to:function(a,b){(a===window||a===document||a===document.body)&&(a=document.documentElement),a=a[0]||a,"top"===b?b=0:"bottom"===b&&(b=a.scrollHeight),a.scrollTop=b},prevent:function(a,b){a=a[0]||a,e(a,function(c,d,e,g){var h=f.detect(a);a===c.target&&("ie"===g||"noscroll"===h||"top"===h&&"up"===d||"bottom"===h&&"down"===d)&&(e(),b&&b.call(a,c,h))})},listen:function(a,b,c){var e={},h=d(a).scrollTop(),i=function(c,g){if(g){var h=f.detect(a),i=d(a).scrollTop();e.bottom=(a===document?document.body:a).scrollHeight-parseFloat(a===document?document.documentElement.clientHeight:a.clientHeight),b.other&&b.other(c,i,g,e),h&&(b.top&&"top"===h&&"up"===g&&b.top(c,i,g,e),b.bottom&&"bottom"===h&&"down"===g&&b.bottom(c,i,g,e))}};a=a[0]||a,a=a===document||a===document.body?window:a,d(a).scroll(function(b){var c=d(a).scrollTop(),e=c>h?"down":h>c?"up":"";h=c,e&&i(b.originalEvent,e)}),a!==window&&c!==!1&&g.prevent(a)}};c.exports=g}),define("dist/lib/util/dom/wheel",["../bom/browser"],function(a,b,c){var d=a("../bom/browser");c.exports=function(a,b){a=a[0]||a,d.ie?a.attachEvent("onmousewheel",function(c){c=window.event;var d=function(){a.scrollTop+=c.wheelDelta>0?-60:60,c.returnValue=!1};b&&b.call(a,c,c.wheelDelta>0?"up":"down",d,"ie")}):d.firefox?a.addEventListener("DOMMouseScroll",function(c){b&&b.call(a,c,c.detail<0?"up":c.detail>0?"down":"",function(){c.preventDefault()},"firefox")},!1):a.addEventListener("mousewheel",function(c){b&&b.call(a,c,c.wheelDelta>=0?"up":c.wheelDelta<=0?"down":"",function(){c.returnValue=!1},"standard")},!1)}}),define("dist/lib/cmp/dialog/tpl/dialog",[],function(){return{render:function(a){var b=[],c=[];for(var d in a)b.push(d),c.push(a[d]);return new Function(b,'var _s=[];_s.push(\' <div class="widget-dialog"> <a href="#" data-action="close" data-role="close" title="关闭" class="dialog-close">×</a> <div class="header"> <div class="title" data-role="title"></div> </div> <div class="main"> <div class="content" data-role="content"></div> </div> <div class="footer"> <div class="buttons" data-role="buttons"></div> </div> </div>\'); return _s;').apply(null,c).join("")}}}),define("dist/lib/cmp/dialog/tpl/button",[],function(){return{render:function(a){var b=[],c=[];for(var d in a)b.push(d),c.push(a[d]);return new Function(b,"var _s=[];_s.push(' <input type=\"button\" value=\"',text,'\" class=\"',className,'\" data-action=\"',action,'\"/>'); return _s;").apply(null,c).join("")}}}),define("dist/app/common/tpl/no-result",[],function(){return{render:function(a){var b=[],c=[];for(var d in a)b.push(d),c.push(a[d]);return new Function(b,'var _s=[];_s.push(\' <div class="no-result">  <div class="no-render"></div>  <p>没有<span class="keyword">\',keyword,\'</span>的搜索结果</p> </div>\'); return _s;').apply(null,c).join("")}}}),define("dist/app/attention/tpl/userinfo",[],function(){return{render:function(a){var b=[],c=[];for(var d in a)b.push(d),c.push(a[d]);return new Function(b,'var _s=[];_s.push(\' <div class="oneuser">  <div class="user-avar">  <img src=\'http://192.168.9.76/oap/face?uid=my_uid&size=f40\' class="avatar"/>  <div class="user-info">  <p class="userp">  <strong>周大伟</strong> 你们在同一<span>部门/年级</span></p>  <p>年复一年我还是这么胖！！！</p>  </div>  <div class="follow-button" data-action="attention">  关注  </div>  </div> </div>\'); return _s;').apply(null,c).join("")}}}),define("dist/lib/util/date",[],function(a,b,c){var d=["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f=function(a){return(0>a||a>9?"":"0")+a},g=function(a,b,c,d){for(var e=d;e>=c;e--){var f=a.substring(b,b+e);if(f.length<c)return null;if(/^\d+$/.test(f))return f}return null},h={isLeap:function(a){return a%4===0&&a%100!==0||a%400===0},check:function(a,b){var c=h.stringToDate(a,b);return 0!==c},compare:function(a,b){var c=a.getTime(),d=b.getTime();return c>d?-1:d>c?1:0},stringCompare:function(a,b,c,d){var e=h.stringToDate(a,b),f=h.stringToDate(c,d);return h.compare(e,f)},stringToDate:function(a,b){a+="",b=b||"yyyy-MM-dd";for(var c,f,i,j=0,k=0,l="",m="",n=1970,o=1,p=1,q=0,r=0,s=0,t="";k<b.length;){for(l=b.charAt(k),m="";b.charAt(k)===l&&k<b.length;)m+=b.charAt(k++);if("yyyy"===m||"yy"===m||"y"===m){if("yyyy"===m&&(c=4,f=4),"yy"===m&&(c=2,f=2),"y"===m&&(c=2,f=4),n=g(a,j,c,f),null===n)return 0;j+=n.length,2===n.length&&(n=n>70?1900+(n-0):2e3+(n-0))}else if("MMM"===m||"NNN"===m){for(o=0,i=0;i<d.length;i++){var u=d[i];if(a.substring(j,j+u.length).toLowerCase()===u.toLowerCase()&&("MMM"===m||"NNN"===m&&i>11)){o=i+1,o>12&&(o-=12),j+=u.length;break}}if(1>o||o>12)return 0}else if("EE"===m||"E"===m)for(i=0;i<e.length;i++){var v=e[i];if(a.substring(j,j+v.length).toLowerCase()===v.toLowerCase()){j+=v.length;break}}else if("MM"===m||"M"===m){if(o=g(a,j,m.length,2),null===o||1>o||o>12)return 0;j+=o.length}else if("dd"===m||"d"===m){if(p=g(a,j,m.length,2),null===p||1>p||p>31)return 0;j+=p.length}else if("hh"===m||"h"===m){if(q=g(a,j,m.length,2),null===q||1>q||q>12)return 0;j+=q.length}else if("HH"===m||"H"===m){if(q=g(a,j,m.length,2),null===q||0>q||q>23)return 0;j+=q.length}else if("KK"===m||"K"===m){if(q=g(a,j,m.length,2),null===q||0>q||q>11)return 0;j+=q.length}else if("kk"===m||"k"===m){if(q=g(a,j,m.length,2),null===q||1>q||q>24)return 0;j+=q.length,q--}else if("mm"===m||"m"===m){if(r=g(a,j,m.length,2),null===r||0>r||r>59)return 0;j+=r.length}else if("ss"===m||"s"===m){if(s=g(a,j,m.length,2),null===s||0>s||s>59)return 0;j+=s.length}else if("a"===m){if("am"===a.substring(j,j+2).toLowerCase())t="AM";else{if("pm"!==a.substring(j,j+2).toLowerCase())return 0;t="PM"}j+=2}else{if(a.substring(j,j+m.length)!==m)return 0;j+=m.length}}if(j!==a.length)return 0;if(2===o)if(h.isLeap(n)){if(p>29)return 0}else if(p>28)return 0;return(4===o||6===o||9===o||11===o)&&p>30?0:(12>q&&"PM"===t?q=q-0+12:q>11&&"AM"===t&&(q-=12),new Date(n,o-1,p,q,r,s))},format:function(a,b){b=b||"yyyy-MM-dd";var c,g="",h=0,i="",j="",k=a.getYear()+"",l=a.getMonth()+1,m=a.getDate(),n=a.getDay(),o=a.getHours(),p=a.getMinutes(),q=a.getSeconds(),r={};for(k.length<4&&(k=""+(k-0+1900)),r.y=""+k,r.yyyy=k,r.yy=k.substring(2,4),r.M=l,r.MM=f(l),r.MMM=d[l-1],r.NNN=d[l+11],r.d=m,r.dd=f(m),r.E=e[n+7],r.EE=e[n],r.H=o,r.HH=f(o),r.h=0===o?12:o>12?o-12:o,r.hh=f(r.h),r.K=o>11?o-12:o,r.k=o+1,r.KK=f(r.K),r.kk=f(r.k),r.a=o>11?"PM":"AM",r.m=p,r.mm=f(p),r.s=q,r.ss=f(q);h<b.length;){for(i=b.charAt(h),j="";b.charAt(h)===i&&h<b.length;)j+=b.charAt(h++);g+=null!==r[j]&&r[j]!==c?r[j]:j}return g},distance:function(a,b,c){var d,e,g=0;if("y"===c)return d=h.format(a,"yyyy-MM-dd HH:mm:ss").split("-"),e=d[0]-0+b,h.stringToDate(e+"-"+d[1]+"-"+d[2],"yyyy-MM-dd HH:mm:ss");if("q"===c||"M"===c){"q"===c&&(b*=3);var i=b%12,j=(b-i)/12;d=h.format(a,"yyyy-MM-dd HH:mm:ss").split("-"),e=d[0]-0+j;var k=d[1]-0+i,l=d[2].split(" "),m=l[0];return 0>=k?(k+=12,e-=1):k>12&&(k-=12,e+=1),m=2===k?h.isLeap(e)?m>29?29:m:m>28?28:m:4===k||6===k||9===k||11===k?m>30?30:m:m>31?31:m,h.stringToDate(e+"-"+f(k)+"-"+m+" "+l[1],"yyyy-MM-dd HH:mm:ss")}return g="h"===c?36e5*b:"m"===c?6e4*b:"s"===c?1e3*b:"w"===c?6048e5*b:864e5*b,new Date(a.getTime()+g)}};c.exports=h}),define("dist/app/attention/ajaxCommon",["../common/ajax","../common/_ajax","../../lib/util/event","$","../../lib/util/json","../common/dialog/singleton","../../lib/cmp/dialog/confirm-box","../../lib/cmp/dialog/dialog","../../lib/cmp/overlay","../../lib/util/dom/position","../../lib/util/bom/browser","../../lib/util/dom/iframe-shim","../../lib/cmp/widget","../../lib/util/base","../../lib/util/class","../../lib/util/aspect","../../lib/util/attribute","../../lib/cmp/daparser","../../lib/cmp/auto-render","../../lib/cmp/mask","../../lib/util/dom/sticky","../../lib/util/dom/scroll","../../lib/util/dom/wheel","../../lib/cmp/dialog/tpl/dialog","../../lib/cmp/dialog/tpl/button"],function(a,b,c){var d=a("../common/ajax"),e={getList:function(a){var b="/relation_api/recommend";d({url:b,method:"GET",data:{}}).done(function(b){a(b)})}};c.exports=e});